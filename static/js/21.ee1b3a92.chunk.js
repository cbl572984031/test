(window.webpackJsonptest02=window.webpackJsonptest02||[]).push([[21],{1335:function(t,e,a){"use strict";a.r(e);var n=a(28),r=a(29),i=a(31),s=a(30),c=a(32),o=a(0),l=a.n(o),u=function(){function t(e,a,r,i){Object(n.a)(this,t),this.ctx=e,this.width=a,this.height=r,this.stars=this.getStars(i)}return Object(r.a)(t,[{key:"getStars",value:function(t){for(var e=[];t--;)e.push({x:Math.random()*this.width,y:Math.random()*this.height,r:Math.random()+.2});return e}},{key:"draw",value:function(){var t=this.ctx;t.save(),t.fillStyle="white",this.stars.forEach((function(e){t.beginPath(),t.arc(e.x,e.y,e.r,0,2*Math.PI),t.fill()})),t.restore()}},{key:"blink",value:function(){this.stars=this.stars.map((function(t){var e=Math.random()>.5?1:-1;return t.r+=.2*e,t.r<0?t.r=-t.r:t.r>1&&(t.r-=.2),t}))}},{key:"flicker",value:function(){var t=this.ctx,e=t.createRadialGradient(150,150,60,100,100,400);e.addColorStop(1,"rgb(0,0,10)"),t.save(),t.fillStyle=e,t.fillRect(0,0,this.width,this.height),t.restore()}}]),t}(),h=(a(262),a(353)),d=a(800),p=a.n(d);p.a.interceptors.request.use((function(t){return localStorage.hasOwnProperty("token")?(t.headers.token=localStorage.getItem("token"),t):t}),(function(t){h.a.error(t)})),p.a.interceptors.response.use((function(t){return 100===t.data.code||400!==t.data.code&&401!==t.data.code?t:(window.location.hash="/login",void localStorage.clear())}));var m=p.a,f=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.get("/aerospace/auth/token")},g=a(8),v=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(i.a)(this,Object(s.a)(e).call(this,t))).setText=function(t,e){a.setState({isShowText:t,text:e})},a.canvas=function(){var t=document.querySelector("#canvas"),e=t.getContext("2d"),a=window.innerWidth,n=window.innerHeight,r=new u(e,a,n,200),i=0;t.width=a,t.height=n;!function t(){++i%10===0&&r.blink(),r.flicker(),r.draw(),requestAnimationFrame(t)}()},a.state={isShowText:!1,text:""},a}return Object(c.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.canvas()}},{key:"render",value:function(){return l.a.createElement("div",{className:"login-box"},l.a.createElement("div",{className:"ipt",style:this.state.isShowText?{}:{display:"none"}},l.a.createElement("p",null,">: ",l.a.createElement("span",null,this.state.text))),l.a.createElement("canvas",{id:"canvas"}),l.a.createElement("img",{className:"bg",draggable:"false",src:a(817),alt:"\u80cc\u666f"}),l.a.createElement("div",{className:"title"},l.a.createElement("p",{id:"title"},"react admin")),l.a.createElement(b,Object.assign({SetText:this.setText},this.props)))}}]),e}(o.Component),b=function(t){function e(){var t;return Object(n.a)(this,e),(t=Object(i.a)(this,Object(s.a)(e).call(this))).getcode=function(e){f().then((function(e){"100"===e.data.code&&t.setState({VCcode:e.data.data})})).catch((function(t){}))},t.blurVerification=function(e){e.target.value.replace(/\s*/g,"").length<=0?e.target.setAttribute("style","border-color:red"):e.target.setAttribute("style",""),t.props.SetText(!1,e.target.value)},t.handleSubmit=function(e){e.preventDefault(),t.props.history.push("/")},t.state={VCcode:"",id:"",password:"",codeipt:""},t}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return l.a.createElement("div",{className:"lodin"},l.a.createElement("div",{className:"input-wrap"},l.a.createElement("label",{htmlFor:"ID",className:"ID_label"}),l.a.createElement("input",{type:"text",maxLength:"18",onBlur:this.blurVerification,onFocus:function(e){t.props.SetText(!0,e.target.value)},onChange:function(e){t.setState({id:e.target.value}),t.props.SetText(!0,e.target.value)},placeholder:"\u7528\u6237\u540d/ID",id:"ID"})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password",className:"password_label"}),l.a.createElement("input",{type:"password",maxLength:"18",onBlur:this.blurVerification,onChange:function(e){t.setState({password:e.target.value})},placeholder:"\u5bc6\u7801",id:"password"})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",onBlur:this.blurVerification,onChange:function(e){t.setState({codeipt:e.target.value})},maxLength:"4",placeholder:"\u9a8c\u8bc1\u7801",id:"VCcode"}),l.a.createElement("img",{className:"VCcode",draggable:"false",onClick:this.getcode,src:"http://hxkt.api.4008990000.net/aerospace/auth/captcha?token="+this.state.VCcode,alt:"\u9a8c\u8bc1\u7801"})),l.a.createElement("div",{className:"submit",onClick:this.handleSubmit},"\u767b\u5f55"))}}]),e}(l.a.Component);e.default=Object(g.g)(v)},817:function(t,e,a){t.exports=a.p+"static/media/react.22229134.png"}}]);
//# sourceMappingURL=21.ee1b3a92.chunk.js.map